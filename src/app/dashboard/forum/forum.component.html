<section class="main">
  <div class="maincontent">
    <div class="maintitle">
      <h1>Bienvennu dans le forum</h1>
    </div>
    <div class="chat">

      <div class="messages-chat">
        <div class="message" *ngFor="let mess of message">
          <div *ngIf="pseudo !== mess.sender_id.pseudo">
            <div class="photo">
              <i class="bi bi-person-fill"></i>
              <div class="online"></div>
            </div>
            <div class=" text-only">
              <p class="text"> {{mess.message}}</p>
              <p class="time"> {{mess.send_date | date:'dd/MM/yyyy HH:mm:ss'}}</p>
            </div>
          </div>

          <div *ngIf="pseudo === mess.sender_id.pseudo" class="response">
            <div class="text-only">
              <p class="text">{{mess.message}}</p>
              <p class="response-time time"> {{mess.send_date | date:'dd/MM/yyyy HH:mm:ss'}}</p>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="footer-chat">

      <div class="foot-center">
        <form (ngSubmit)=" OnMessage()">
          <input type="text" class="write-message" placeholder="Message" [(ngModel)]="messg.libelle_messfor"
                 [ngModelOptions]="{standalone:true}" required minlength="1" #messvr="ngModel" [ngClass]="
                    {'is-invalid':messvr.touched && !messvr.valid}">
          <!-- ----------------alerts----------- -->

          <button type="submit" class="btn btn-dark" disabled
                  *ngIf='messvr.getError("required") || messvr.getError("minlength")'><i class="bi bi-send-fill"></i>
          </button>
          <button type="submit" class="btn btn-dark"
                  *ngIf='!messvr.getError("required") && !messvr.getError("minlength")'><i class="bi bi-send-fill"></i>
          </button>
        </form>
      </div>

    </div>
  </div>
</section>

